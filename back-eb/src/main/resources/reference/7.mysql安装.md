# mysql安装

- mysql-server-5.1.72
- 安装步骤
	- yum -y install mysql-server(阿里云的源提供的)
	- rpm -qa | grep mysql-server检查是否已安装mysql-server的服务
	- 默认配置文件/etc/my.cnf
- 字符集配置
	- vim /etc/my.cnf
	- 添加配置，在[mysqld]节点下添加：
		- default-character-set=utf-8
		- character-set-server=utf-8
	- :wq
- 中文乱码问题说明
	- ![](http://oo78duriq.bkt.clouddn.com/17-6-28/11898916.jpg)
- 自启动配置
	- chkconfig mysqld on
	- 执行chkconfig --list mysqld(查看如果2-5位都是on状态就可以)
- 配置防火墙开放3306端口
- 启动mysql
	- service mysqld start
- 登录mysql
	- mysql -u root默认root开始是没有密码的
- mysql配置
	- 查看当前mysql用户
		- select user,host,password from mysql.user
	- 修改root密码
		- set password for root@localhost=password('xxxxxx');
		- set password for root@127.0.0.1=password('xxxxxx');
	- 重新登陆 mysql -u root -p进行登录
	- 删除匿名用户（安全考虑）
		- 查看是否有匿名用户
			- select user,host from mysql.user;
		- 删除匿名用户
			- delete from mysql.user where user='';
		- 再次查看
			- select user,host from mysql.user;
		- 刷新，使以上操作生效
			- flush privileges;
	- 插入mysql新用户
		- insert into mysql.user(Host,User,Password) values ("localhost","yourusername",password("yourpassword"));
		- flush privileges;使操作生效
	- 创建新的database
		- CREATE DATABASE `mmall` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;
	- 本地用户赋予所有权限
		- grant all privileges on mmall.* to yourusername@localhost identified by 'yourpassword';
	- 给账号开通外网所有权限
		- grant all privileges on mmall.* to yourusername@'%' identified by 'yourpassword';
	- flush privileges;
- mysql验证